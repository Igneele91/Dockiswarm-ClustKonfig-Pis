

1. Generieren Sie einen eigenen Passworthash:

Um einen eigenen Passworthash zu generieren, müssen Sie das Befehlszeilentool von Authelia verwenden. Hier ist, wie Sie es verwenden können:

Öffnen Sie ein Terminal auf Ihrem Raspberry Pi und navigieren Sie zu Ihrem Authelia-Verzeichnis:

```bash
cd /home/pi/authelia
```

Jetzt führen Sie den folgenden Befehl aus, um ein Passworthash zu erstellen. Ersetzen Sie `my_password` durch Ihr gewünschtes Passwort:

```bash
docker run authelia/authelia:latest authelia hash-password 'my_password'
```

Der obige Befehl wird einen Hash Ihres Passworts generieren. Notieren Sie sich diesen Hash für den nächsten Schritt.

2. Erstellen Sie die Benutzerdatenbankdatei:

Zurück auf Ihrem Raspberry Pi, erstellen Sie die Benutzerdatenbankdatei, indem Sie die folgenden Befehle ausführen:

```bash
cd /home/pi/authelia/config
nano users_database.yml
```

Das öffnet die neu erstellte Datei `users_database.yml` in einem Texteditor namens nano. 

3. Fügen Sie den Benutzer und den Passworthash hinzu:

Fügen Sie die folgenden Zeilen in die Datei ein und ersetzen Sie den Passworthash und die E-Mail-Adresse durch die tatsächlichen Werte für Ihren Benutzer:

```yaml
users:
  bob:
    password: YOUR_GENERATED_PASSWORD_HASH
    email: bob@example.com
    groups: []
```

Ersetzen Sie `YOUR_GENERATED_PASSWORD_HASH` durch den Hash, den Sie im ersten Schritt generiert haben. 

Drücken Sie dann `Ctrl+X` um den Editor zu schließen, und bestätigen Sie das Speichern der Änderungen mit `Y` und `Enter`.

4. Generieren Sie einen zufälligen Schlüssel:

Um den `encryption_key` für Ihre Konfigurationsdatei zu generieren, führen Sie im Terminal den folgenden Befehl aus:

```bash
openssl rand -base64 32
```

Das generiert einen zufälligen Schlüssel. Kopieren Sie diesen Schlüssel.

5. Fügen Sie den Schlüssel in die Konfigurationsdatei ein:

Öffnen Sie Ihre Authelia-Konfigurationsdatei mit dem folgenden Befehl:

```bash
nano /home/pi/authelia/config/configuration.yml
```

Suchen Sie in dieser Datei nach der Zeile, die `encryption_key: your_encryption_key` enthält und ersetzen Sie `your_encryption_key` durch den Schlüssel, den Sie im vorherigen Schritt generiert haben.

Drücken Sie dann `Ctrl+X` um den Editor zu schließen, und bestätigen Sie das Speichern der Änderungen mit `Y` und `Enter`.

6. Starten Sie den Authelia-Container neu:

Nachdem Sie diese Änderungen vorgenommen haben, sollten Sie den Authelia-Container neu starten. Dies kann je nach Ihrer spezifischen Umgebung und Setup variieren. Eine allgemeine Methode zum Neustarten eines Docker-Containers ist der folgende Befehl:

```bash
docker restart authelia
```

Stellen Sie sicher, dass Sie den richtigen Namen für Ihren Authelia-Container verwenden. Überprüfen Sie die Logs erneut, um sicherzustellen, dass keine weiteren Fehler auftreten.


####################### 

Merken

Das kamm raus: 


pi@Raspi-1:~/authelia $
pi@Raspi-1:~/authelia $
pi@Raspi-1:~/authelia $ docker run authelia/authelia:latest authelia hash-password 'my_password'
Unable to find image 'authelia/authelia:latest' locally
latest: Pulling from authelia/authelia
Digest: sha256:25fc5423238b6f3a1fc967fda3f6a9212846aeb4a720327ef61c8ccff52dbbe2
Status: Downloaded newer image for authelia/authelia:latest
Digest: $argon2id$v=19$m=65536,t=3,p=4$9BcGkzF7EFT5HFLpHoAF5g$4O38D/3yiFCGectZgMU8oMvXNtHUM4q2a91cRGkcjS4
pi@Raspi-1:~/authelia $
pi@Raspi-1:~/authelia $


##############################



Weiter der Anleitung folgen! 



Das ist noch wichtig: 



Sie können das direkt auf Ihrem Raspberry Pi ausführen. Der Befehl, um den zufälligen Schlüssel zu generieren, ist ein Terminalbefehl und kann in jeder Terminalinstanz ausgeführt werden. Hier sind die genauen Schritte:

1. Öffnen Sie das Terminal auf Ihrem Raspberry Pi.

2. Geben Sie den folgenden Befehl ein:

   ```bash
   openssl rand -base64 32
   ```

3. Drücken Sie Enter. Der Terminal wird dann eine zufällige Zeichenfolge ausgeben, die als Schlüssel verwendet werden kann. Diese Zeichenfolge ist Ihr neuer Schlüssel.

Kopieren Sie diesen Schlüssel und fügen Sie ihn in der `configuration.yml` Datei an der Stelle ein, an der `your_encryption_key` steht. Dies wird Ihr neuer Verschlüsselungsschlüssel für Authelia. Achten Sie darauf, diesen Schlüssel sicher aufzubewahren und ihn nicht zu verlieren, da er für die Funktion von Authelia notwendig ist.


das kamm dabei raus: 


pi@Raspi-1:~/authelia/config $
pi@Raspi-1:~/authelia/config $
pi@Raspi-1:~/authelia/config $ openssl rand -base64 32
CjwsZMOJ9xM+j0CkLC7dzGGse3+ofGNu22Npl7kSRjY=
pi@Raspi-1:~/authelia/config $
pi@Raspi-1:~/authelia/config $
pi@Raspi-1:~/authelia/config $
pi@Raspi-1:~/authelia/config $


alles klar! 


#########################################


Ende! 





